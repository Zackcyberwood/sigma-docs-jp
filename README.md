<img width="707" height="527" alt="11_テーブルの名前変更" src="https://github.com/user-attachments/assets/e227c94e-126d-494f-b78a-218ab69a6378" /># Sigmaキャンペーン分析ユースケース

# 1. 背景と目的

## 1-1 対象読者：
* マーケティング部門の分析業務担当者およびマネージャー
* 商品企画、イベント企画の立案担当者
* 販売戦略・営業企画の担当者

## 1-2 従来の分析プロセスにおける課題
本ユースケースにおける従来の分析プロセスでは、以下の3つの主要な課題に直面しています。

### 1. 分析準備における非効率な手作業
キャンペーン施策の分析に着手する前段階において、手作業による非効率が常態化しています。
* **キャンペーン毎の分析ロジックの再構築**
    * 施策ごとに設問やデータ構造が異なるため、その都度、結合や集計のロジックをExcel上で手作業で組み立て直す必要がある。
* **複数データソースの手作業による結合・前処理**
    * DWHの購買履歴や会員情報、ローカルのアンケートファイルなど、分散したデータを手動で突合・クレンジングしている。
* **ヒューマンエラーによる手戻りと検証コストの増大**
    * 手作業に起因する計算ミスや参照範囲の誤りが、後工程での手戻りや、ダブルチェックといった検証コストを発生させている。

### 2. Excelの性能限界に起因する技術的制約
分析に使用するツールの性能が、分析の質とスピードを律速しています。
* **大規模データ処理時のパフォーマンス低下**
    * キャンペーン参加者数や購買データが数万行を超えると、Excelの動作が極端に遅延、あるいは応答不能（クラッシュ）となる。
* **リアルタイムな対話的分析の実行困難**
    * パフォーマンスの問題により、会議中に新たな切り口でデータを再集計するといった、対話的・探索的な分析が事実上不可能となっている。

### 3. 属人化・中央集権化がもたらす組織的障壁
分析業務の進め方が、組織全体としての俊敏性や継続性を損なっています。
* **個人のスキルに依存する「Excelのブラックボックス化」**
    * 特定の担当者しか解読・編集できない複雑なExcelファイルが作成され、業務の属人化を招き、担当者不在時の業務継続リスクとなっている。
* **IT部門への依頼が集中する「分析のボトルネック化」**
    * データ抽出をIT部門に都度依頼する運用では、マーケターが仮説を思いついてから検証するまでのリードタイムが長くなり、主体的なデータ探索を阻害している。

## 1-3 Sigmaによって実現する新しい分析の在り方
* **分析準備プロセスの標準化と自動化**
    * キャンペーンごとに異なるデータソースを手作業で都度結合・加工するといったプロセスを効率化・自動化します。
    * Sigmaでは、データのクレンジングや正規化といった前処理をシステム上で標準化可能です。
    * 一度データモデルを構築すれば、参照するファイルやデータが更新されても、定義済みの計算式やダッシュボードが破損することはありません。
    * これにより、これまで準備作業に費やしていたリソースを、インサイトの発見や戦略立案といった、より付加価値の高い業務へシフトさせることが可能になります。
* **対話的なデータ探索による、意思決定の迅速化**
    * 静的な資料を基にした一方的な「報告会」から、チーム全員が参加するインタラクティブな「探索セッション」へ移行できます。
    * Sigmaでは、大規模データであっても、多くの人が使い慣れたピボットテーブルのような直感的な操作で、ストレスなくリアルタイムなアドホック分析が可能です。
    * 会議中に新たな問いが生まれても、その場でデータを深掘りし、根拠に基づいた検証を行うことができます。
    * これにより、問いの発生からインサイト獲得、そして次のアクションプラン策定までのサイクルが劇的に高速化し、データドリブンな意思決定を組織に根付かせます。
* **脱・属人化：専門スキル不要の分析環境**
    * 担当者個人の技巧的なスキルに依存した、ブラックボックス化したExcelファイルは不要になります。
    * Sigmaは、多くのビジネスユーザーが習熟しているスプレッドシート形式のインターフェースと、互換性の高い関数構文を採用しているため、導入時の学習コストを低減します。
    * ドリルスルーやフィルタリングといったGUIベースの操作に加え、AIアシスタントに自然言語で指示するだけで、データ分析を実行できます。
    * これにより、データサイエンティストのような専門職でなくとも、ビジネス担当者自身が主体的にデータを探索・分析する環境が構築されます。

---
**ハンズオンの難易度：** 初心者〜中級者

Excelでのデータ集計・分析（VLOOKUP、ピボットテーブル等）の実務経験がある方を主な対象としています。
（TableauやPower BIなど、他のBIツールの使用経験があれば、よりスムーズにご理解いただけます）

## 2-1 業務シナリオ：2025年上半期キャンペーン施策振り返り会議
本会議の目的は、2025年の上半期に実施したキャンペーンデータに基づいて、施策から得られたインサイトを全員で発見し、次の具体的なアクションプランへと繋げることです。

---

### シーン0：第一回目のキャンペーン分析結果報告会での課題
第一回のキャンペーン分析結果報告会に先立ち、担当者は1週間前よりDWHから抽出した購買履歴やアンケート結果といった複数のデータソースを、PC上のExcelを用いて手作業で統合する作業に着手しました。このVLOOKUP関数等を多用したデータ結合と集計プロセスは、多くの工数を要するものでした。
会議当日、準備されたレポートに基づく報告は進みましたが、質疑応答の中で「このキャンペーンで初めて商品を購入した『新規顧客』は、どの商品カテゴリに関心を持ったのか？」といった、事前集計の範囲を超える分析要求が発生しました。担当者がその場で対応を試みたところ、大規模な元データを再集計しようとしたExcelは応答不能となり、即座に回答することができませんでした。
この一連の事象を経て、次回の会議ではSigmaのBIツールを使って、分析結果の報告会を行うという方針に決まりました。

---

### シーン1：次回の振り返り報告会に向けたサマリーダッシュボードの構築準備
Sigmaの導入は、まず分析準備のワークフローを抜本的に変革しました。これまで数日を要していたデータ準備作業は、担当者自身がSigma上でデータモデルを構築することで、迅速に完了します。DWH上の大規模データである会員情報や購買履歴、キャンペーン情報、アンケート回答といった5つのデータソースは、GUIベースのJoin機能で一度結合ルールを定義すれば、統合・自動更新されます。さらに、分析の過程で商品マスタ等の小規模な補助データを参照する際は、スプレッドシート製品と互換性の高いLookup()関数が有効です。これにより、データモデルの複雑性を上げることなく、必要な情報のみを柔軟に抽出・追加できます。
この「準備作業」の効率化により、担当者は、次回の報告会に向けて、議論の質を最大化するための「対話の起点」となるサマリーダッシュボードの設計・構築に注力できるようになりました。
以下は、その効率化されたプロセスを通じて、担当者が会議の共通認識基盤として準備した、ダッシュボードの可視化項目です。

**【全体像の把握】**
* 主要KPI（応募総数、商品購入人数、購買転換率）
* キャンペーン期間中の週間応募数・商品購入人数の時系列推移

**【顧客セグメント分析】**
* 参加者のデモグラフィック（年代、性別、地域）や顧客ランク別構成

**【チャネル・購買分析】**
* チャネル別 費用対効果分析: 応募者の「量（数）」と「質（平均購入単価）」を同時に評価するためのバブルチャート。

**【定性データの活用】**
* 自由回答からAIで抽出したキーワードや感情（ポジティブ/ネガティブ）の傾向
* アンケートの自由回答をAIを用いた関数で解析し、改善案となるコメントを抽出

これらの項目を可視化させたサマリーダッシュボードを基軸に、第二回の振り返り会議の中ではディスカッションが行われます。

### シーン2： リアルタイム・アドホック分析による「探索セッション」の実現

第二回目のキャンペーン分析結果報告会当日。担当者は事前に構築したインタラクティブなダッシュボードをスクリーンに投影し、議論を開始します。

**1. 全体像の提示と、最初の「問い」**
まず、担当者は主要KPIサマリーと時系列推移グラフを示し、「2025年上半期は、3月と5月に大きな応募の山があり、全体として応募者数は過去最高を記録しました」と報告します。
しかし、目標達成率を示すゲージチャートは、目標の30%にわずかに届かず、黄色信号を灯しています。
これを見た部長が、最初の問いを投げかけます。「応募者数は好調なのに、なぜ目標に届かなかったんだ？どの施策が、足を引っ張っているんだ？」

**2. ドリルダウンによる、原因の特定**
その問いに対し、担当者は**「応募者プロファイル・エクスプローラー」を操作します。
まず、X軸を[Campaign Type]に設定し、「タイアップ・コラボ型」の応募者数が最も多いことを示します。
次に、その「タイアップ・コラボ型」の棒グラフをクリックし、購買転換率でドリルダウン**します。すると、その転換率が、他の施策タイプより著しく低いことが明らかになります。
「足を引っ張っていたのは、応募者数こそ多いものの、購買に繋がらなかった『タイアップ・コラボ型』施策です」と、担当者はデータで回答します。

**3. バブルチャートによる、次の「打ち手」の発見**
「では、逆に、我々が次に注力すべき、最も『質の高い』顧客を連れてきてくれるチャネルはどこだ？」という問いには、「チャネル別 費用対効果分析」のバブルチャートが答えを示します。
応募者の「数」ではInstagramが最大ですが、「平均購入単価」が最も高いのは「Web検索」であることが一目瞭然となり、「下半期は、Web検索チャネルへの予算配分を強化すべきです」という、具体的な提言に繋がります。

**4. AI分析による、潜在リスクの発見**
最後に、担当者は**「AIによる顧客の声 分析」モジュールを提示します。
「そして、これが今回の分析で最も重要な発見です。AIで自由回答を分析したところ、『改善提案』に分類されたコメントの中で、『決済方法を増やしてほしい』という声が、我々の最も大切な『プラチナ』顧客**から、複数寄せられていることが判明しました。これは、将来の離反に繋がりかねない、重要なリスクシグナルです」

結論
会議は、単なる結果報告の場ではなく、ダッシュボードという共通言語の上で、全員がデータと対話し、次々と生まれる問いにその場で答えを見つけ、具体的な次のアクションプラン（Web検索広告の強化と、決済方法の見直し）を決定する、極めて生産的な「探索セッション」へと進化したのです。

# 3. 完成イメージ（成果物の可視化例）
本ハンズオンを完了すると、以下にご紹介するような、キャンペーンの成果を多角的に評価できるインタラクティブなダッシュボードが完成します。このダッシュボードは、単なる静的なレポートではなく、チーム全員でデータと対話し、インサイトを発見するための「分析の出発点」として機能します。

### 3-1 完成ダッシュボードの全体像
<img width="1313" height="853" alt="3-2 キャンペーンサマリー" src="https://github.com/user-attachments/assets/e87a47b7-bd03-4110-9c48-182be517432d" />

### 3-2 主要コンポーネントの説明
ダッシュボードは、以下の主要な可視化コンポーネントで構成されています。

## **主要KPIサマリー & 目標到達度**

* **応募総数 / 購入人数 / 購買転換率:**
    * **役割:** このダッシュボードの「結論」です。上半期全体の成果（応募者数、購入者数、転換率）を一目で把握するための、最も重要な指標を示します。

* **目標到達度（ゲージチャート）:**
    * **役割:** KPIの中でも特に重要な「購買転換率」が、私たちが設定した目標に対して、「良かったのか、悪かったのか」を、スピードメーターのように直感的に評価します。

### **参加者・購買者トレンド分析**

* **参加数・商品購買者数時系列推移（折れ線グラフ）:**
    * **役割:** 上半期の中で、「いつ」**応募の山が来て、**「いつ」**購買の山が来たのか、その**「勢い」**と**「物語」**を可視化します。3月と5月の、性質の異なる2つの山の違いが、ここで明らかになります。

### **顧客セグメント深掘り分析**

* **年齢別カスタマーランク構成（積み上げ棒グラフ）:**
    * **役割：** 参加者が「誰だったのか」、その内訳を「年齢」と「顧客ランク」という2つの軸で分解します。「30代の応募者が最も多いが、その中身を見ると、実は優良顧客である『ゴールド』ランクの割合が高い」といった、顧客の「量」と「質」を同時に評価できます。

* **応募者プロファイル分析（ドリルダウン機能付き棒グラフ）:**
    * **役割：** このダッシュボードの「対話の中心」です。見る人が「では、コラボ施策の内訳は？」と気になった瞬間に、棒グラフをクリックし、年代別、性別、顧客ランク別…と、次々に深掘り（ドリルダウン）していくための、インタラクティブな分析ツールです。

* **チャネル・購買単価相関分析（バブルチャート）:**
    * **役割：** 「広告チャネルの費用対効果」を、一枚の絵で、多角的に評価します。横軸で「応募者の数（量）」、縦軸で「平均購入単価（質）」、そして円の大きさで「総売上（ビジネスインパクト）」を示すことで、「Instagramは集客に強いが、Web検索は収益性が高い」といった、**チャネルごとの明確な「役割」**を特定します。

### **AIによる顧客の声 分析**

* **センチメント分析（ドーナツグラフ）:**
    * **役割：** AI分析の成果を発表するエリアです。顧客の声の全体的な「感情（ポジティブ/ネガティブ）」の割合を示します。

* **アンケート自由回答分析（テーブル）:**
    * **役割：** AIが抽出した**「具体的な改善提案」**を、**顧客ランク**と共に一覧表示します。これにより、「我々が次に取り組むべき、最も価値のある声は何か」を、データに基づいて特定します。

# 第4章：ハンズオン：インタラクティブ・ダッシュボード構築手順

この章では、Snowflakeに準備した5つのテーブルを基に、Sigmaを使って、意思決定を支援するインタラクティブなダッシュボードをゼロから構築します。

---

### **フェーズ1：データ準備・結合フェーズ**

**目的：**
全ての分析の土台となる、Snowflake上の5つのテーブルをSigmaに接続し、それらを正しく結合して、分析の起点となる「分析用データセット（ワークシート）」を作成します。

#### **Step 1：新しいワークブックの作成**

まず、分析の作業スペースとなる、まっさらな「ワークブック」を作成します。

**手順：**

1.  Sigmaにログインし、画面左上にある青い**「作成（Create New）」**ボタンをクリックします。
2.  表示されたメニューの中から、**「ワークブック（Workbook）」**を選択してください。

[画像挿入]<img width="1269" height="403" alt="1_ワークブックを開く" src="https://github.com/user-attachments/assets/a65e88c6-48dd-41c1-bf9d-031b2d869847" />


**✅ このステップのゴール**
「データソースを選択」という新しい画面が表示されれば、最初のステップは成功です！



#### **Step 2：分析の「軸」となるデータソースの選択**

次に、分析の中心となるテーブルを、まず一つSigmaに呼び出します。

**手順：**

1.画面中央下の**Data**をクリックし、**Table**を選択します。

<img width="302" height="133" alt="2_データのテーブルを開く" src="https://github.com/user-attachments/assets/42871efb-8692-49e3-a1de-a96413555243" />

2.「データソースを選択」画面でを**「接続（Connections）」** タブを選び、あなたのSnowflake接続をクリックします。その後、接続先にあるデータベースの中から指定のデータベースをクリックし、次にスキーマをクリックします。

<img width="304" height="524" alt="3_Connectionを選択" src="https://github.com/user-attachments/assets/09cabe97-5f3a-412d-8894-4976d9f19515" />

3.テーブルの一覧から、分析の「ハブ（中心）」となる**TBL_ANSWERS（アンケート回答）テーブルを**選択します。

<img width="311" height="520" alt="4 TBL_ANSWERのテーブル選択" src="https://github.com/user-attachments/assets/54a91836-4e89-4fd2-80ca-b2fd204b4533" />

4. 選択が完了したら、右上の「開始」ボタンをクリックします。

**✅ このステップのゴール**
画面が切り替わり、TBL_ANSWERSテーブルだけが表示された、Sigmaのワークシート画面になれば成功です！

#### **Step 3：テーブルの結合（Join）**
**目的：**
TBL_ANSWERSテーブルに、他のテーブルを結合して、分析に必要な情報を追加していきます。この操作で、バラバラだった5つのデータが、意味のある一つの大きなデータセットに生まれ変わります。

**手順：**

1. 画面上部に表示されているTBL_ANSWERSテーブル要素の、右上にある3点リーダー「…」をクリックします。
   表示されたメニューの中から**Edit element source**を選択します。
   ソースパネルが開いたら、**Join** ボタンをクリックします。
   
<img width="1895" height="608" alt="6 Joinの表示png" src="https://github.com/user-attachments/assets/d0362a6a-7df0-451a-84c1-4100b330a6eb" />

2.「新しいソースを追加」画面で、MY_HANDSON_DB.PUBLICスキーマの中から、TBL_CUSTOMERS（会員情報） テーブルを選択し、「Join」をクリックします。
<img width="1076" height="785" alt="7 CustomerIDとのJoin" src="https://github.com/user-attachments/assets/6daf2ba9-32b4-465c-bfeb-f52ec99319fe" />


3. 結合キー設定画面で、両方のテーブルのCUSTOMER_IDが自動で選択されていることを確認し、結合を確定します。
<img width="573" height="475" alt="8  Left Outerjoinで結合" src="https://github.com/user-attachments/assets/b30e79cd-f738-4a33-a8d7-7218d11b1012" />

4. 同様の手順を繰り返し、以下の結合を順番に追加していきます。

* **TBL_ANSWERS と TBL_CAMPAIGNS を CAMPAIGN_ID で結合**

* **TBL_ANSWERS と TBL_QUESTIONS を QUESTION_ID で結合**

* **TBL_CUSTOMERS と TBL_PURCHASES を CUSTOMER_ID で結合**

最後に、TBL_CUSTOMERSとTBL_PURCHASESを繋いでいる線の中央にある、円が2つ重なったアイコン（結合タイプ）をクリックし、「左外部結合（Left Join）」を選択します。

<img width="1903" height="995" alt="10 ５つのデータのJoin画面" src="https://github.com/user-attachments/assets/da63f921-6aa1-4137-88e9-e01b49393dd0" />

**✅ このステップのゴール**
5つのテーブルが正しく結合され、多角的な分析を行うための準備が整った、一つの大きなデータセット（ワークシート）が完成します。

#### Step 4：テーブル名の変更

**目的：**
5つのテーブルを結合して作成した、この分析の土台となるデータセットに、その役割が一目で分かる、適切な名前を付けます。

手順：

1. Sigmaのワークシート画面で、5つのテーブルを結合したテーブルの上部に表示されているタイトルを選択します。

2. 名前が編集できる状態になるので、**キャンペーン統合データ**といった、このデータセットの役割を表す、分かりやすい名前に任意で変更してください。

<img width="707" height="527" alt="11_テーブルの名前変更" src="https://github.com/user-attachments/assets/b8e43e1b-7609-4c64-9011-379b5c586ab4" />

✅ このステップのゴール
分析の土台となるデータセットに、その役割を示す適切な名前が付けられ、この後の分析作業で、誰もが迷うことなく、このデータを参照できるようになります。

### フェーズ2：集計・可視化フェーズ

**目的：** 

結合したデータを基に、KPIやグラフを作成し、キャンペーンの成果を多角的に可視化します。

**Step 1：主要KPIサマリーの作成** 

**目的：**

ダッシュボードの「顔」となる、上半期全体の成績が一目でわかるサマリーを作成します。このステップでは、3つの異なるKPIカードを、それぞれ独立して作成していきます。

**手順：**

1. 新しいページの作成を行うために、ワークブックの左下にある「＋」ボタンから統合データの複製を作成します。

2. フィルター機能として、画面右上部の「Filter&Control」エリアに、TBL_CAMPAIGNSの[Start Date]をドラッグ＆ドロップし、期間を「2025年1月1日」から「2025年6月30日」まで**に設定します。「上半期キャンペーンデータ」などと名前を変更してください。

<img width="1727" height="561" alt="2-1 統合データのフィルタリング" src="https://github.com/user-attachments/assets/15b12a7f-f701-484e-9d22-a11b4b11a1db" />

3.続いて、応募総数のKPIカードを作成します。
画面中央下の「＋」ボタンから**可視化（Visualization）**　の表示形式として**KPI**を選択します。

<img width="279" height="315" alt="2-3 カスタマーIDを値（Value）へ移行" src="https://github.com/user-attachments/assets/e8cafc4d-632b-4916-a78a-71b8f795ed4c" />

4. 「値（Value）」エリアに、[Customer Id]列をドラッグ＆ドロップし、集計方法が**CountDistinct**（ユニークな数を数える）になっていることを確認します。

<img width="217" height="527" alt="2-4 CountDistinctへの集計方法の変更" src="https://github.com/user-attachments/assets/f74fcdb8-799e-437e-a116-445a8e234c85" />


5. KPIカードのタイトルを**応募総数**に変更します。

6. 同様に、商品の購入者数に関するKPIカードを作成します。

7. 「値（Value）」エリアに、以下の計算式を入力します。
**CountDistinct([Purchase])**

8. 名前を**購入人数**に変更します。

9. 続いて、３つ目のKPIカードとして、購買転換率を使用します。

10. 再度、「＋」ボタンから新しい**「可視化」要素を追加し、表示形式を「KPI」**に設定します。

「値（Value）」エリアの「Add caluculation」をクリックし、新しい計算式の追加を行います。

<img width="158" height="50" alt="2-5 新しい計算式の追加" src="https://github.com/user-attachments/assets/f169a2c3-fb85-4408-a00e-cebe001a5b71" />

11. 画面上部の関数計算のセルに、以下の計算式を入力します。
**CountDistinct([Purchase ID]/CountDistinct([Customer ID])**

<img width="389" height="28" alt="2-6 購買転換率の計算式" src="https://github.com/user-attachments/assets/07641419-cda4-410c-872a-6e01ffeb56b4" />

12. 要素のタイトルを**購買転換率**に変更します。

13. 計算結果の列名の右側にある、**Format**の書式設定メニューから**Percent**を選択します。

<img width="241" height="707" alt="2-7 書式の変更" src="https://github.com/user-attachments/assets/8444eb3a-2861-4880-bfbd-7ae80d6ff008" />

14.　作成した3つのKPIカードを、ドラッグ＆ドロップで、ダッシュボードの最上部に横一列に配置し、レイアウトの調整をします。

✅ このステップのゴール
2025年上半期の成果を示す、「応募総数」「購入者数」「購買転換率」の3つのKPIカードが、ダッシュボードの最上部に美しく配置された状態になります。


## Phase1：データへの接続と分析基盤の構築（データ結合）

## **目的**
全ての分析の土台となる、Snowflake上の5つのテーブルをSigmaに接続し、それらを正しく結合して、分析の起点となる「**分析用データセット（ワークシート）**」を作成します。

---

## **手順**

### **Step1: ワークブックの新規作成とデータソースの選択**
1.  Sigmaにログインし、左上に位置する「**Create a new**」ボタンから「**Workbook**」を新規作成します。

<img width="684" height="772" alt="image" src="https://github.com/user-attachments/assets/db35f59a-f5ad-4598-99b6-63029ef844bb" />

2.  データソース選択画面が表示されます。
   
<img width="737" height="438" alt="image" src="https://github.com/user-attachments/assets/50d8e1a7-225b-4c83-8a5f-305b21b176b5" />

### **Step2: テーブルの複数選択**
1.  接続先にあるデータベースの中から**MY\_HANDSON\_DB**をクリックし、次に**PUBLIC**スキーマをクリックします。
2.  事前にSnowflake上で作成した下記の5つのテーブル一覧が表示されます。
    * **TBL\_CUSTOMERS**
    * **TBL\_PURCHASES**
    * **TBL\_CAMPAIGNS**
    * **TBL\_QUESTIONS**
    * **TBL\_ANSWERS**
3.  キーボードの**Ctrlキー（Macの場合はCmdキー）**を押しながら、5つのテーブル名をすべてクリックして、複数選択状態にします。
4.  選択が完了したら、右上の「**開始**」ボタンをクリックします。

#### **Step3: 結合（Join）の実行**
画面上部に、選択した5つのテーブルが「箱」として表示されます。ここから、SQLを一切書かずに、視覚的な操作でテーブル同士を結合していきます。

まず、分析の中心となる「**TBL\_ANSWERS（アンケート回答）**」を起点に、他のマスターテーブルを結合します。

* **会員情報とアンケート回答の結合**
    * 「**TBL\_CUSTOMERS（会員情報）**」の箱をドラッグし、「**TBL\_ANSWERS**」の箱の上に重ねます。表示された結合キー設定で、両方のテーブルの「**CUSTOMER\_ID**」を選択し、結合を確定します。
    * 結合が作成されたら、2つの箱を繋いでいる線の中央にある、円が2つ重なったアイコン（結合タイプ）をクリックします。
    * 表示されたメニューから、「**左外部結合（Left Join）**」を選択します。「**TBL\_Answers**」が左側に表示されていることを確認してください。
* 同様に、**TBL\_CAMPAIGNS**を**TBL\_ANSWERS**に「**CAMPAIGN\_ID**」で結合します。
* 同様に、**TBL\_QUESTIONS**を**TBL\_ANSWERS**に「**QUESTION\_ID**」で結合します。
* 後に、**TBL\_PURCHASES（購入履歴）**の箱を、既に結合されている「**TBL\_CUSTOMERS**」の箱の上に重ね、「**CUSTOMER\_ID**」で結合します。<img width="674" height="349" alt="image" src="https://github.com/user-attachments/assets/4f92dd0d-0b69-4476-aeab-df5a9013b51b" />

### **Step4: ワークシートの名前の変更**
最後に、このデータセット全体の名前を、後から分かりやすいように変更しておきましょう。画面上部にある要素の名前をクリックし、「**キャンペーン統合分析用統合データ**」など、任意名称に変更してください。

---

### ✅ **このフェーズのゴール**
5つのテーブルが正しく結合され、多角的な分析を行うための準備が整った、一つの大きなデータセット（ワークシート）が完成しました。
これで、次の「集計・可視化フェーズ」に進む準備が万端です。

---

### **コラム：前回のキャンペーン分析報告会での苦労エピソード①**
前回のキャンペーン分析報告会準備の時、担当者はIT部門に依頼して、基幹システムから顧客情報や購買履歴のCSVをダウンロードしてもらい、自部門のフォルダから、最新のアンケート回答やキャンペーン情報のファイルを探し出し、これらの巨大で、形式もバラバラな複数のファイルを、VLOOKUP関数や手作業のコピー＆ペーストで、一つのシートにまとめていました。この作業の中では、参照範囲のミスやPCのフリーズが起こることも少なくありませんでした。今回のSigmaでは、このプロセスを「**接続（Connect）と結合（Join）**」機能によって、一度関係性を保存されるため、キャンペーン分析の度に発生していたデータの突合作業を毎回行わずとも、分析の土台は自動で更新され続けます。

# Phase2: 集計・可視化フェーズ

## **主要KPIサマリーの作成**

### **目的**
まず、ダッシュボードの「顔」となる、**2025年上半期**全体の成績が一目でわかるサマリー（主要KPI）を作成します。これにより、会議の参加者は、詳細を見る前に「**結論**」から把握することができます。

---

### **手順**

#### **Step1: 新しいページの作成**
ワークブックの下部にある「**＋**」ボタンから、「**UI**」→「**Text**」を選択してください。そして、作成したバナーに「**2025上半期サマリー**」といった任意の分かりやすい名前を付けます。

#### **Step2: KPIカードの作成（応募総数）**
1.  ワークブックの下部にある「**＋**」ボタンから、最初の可視化要素として「**Chart**」を選択し、表示形式として「**KPI**」を選択します。<img width="573" height="416" alt="image" src="https://github.com/user-attachments/assets/bf6768df-3c99-48a1-87c9-98ed4f8fbc85" />

2.  右側に表示される詳細設定の「**値（Value）**」エリアに、「**TBL\_CUSTOMERS**」の **[Customer Id]** をドラッグ＆ドロップし、集計方法が **CountDistinct** になっていることを確認します。
3.  タイトルを「**応募総数**」に変更します。

#### **Step3 追加KPIの作成（購入者数、購買転換率など）**
同様の手順で、以下のKPIカードを横に並べて作成していきます。

* **購入者数**
    * **値**: `CountDistinct([Purchase Id])`
    * **タイトル**: 購入者数

* **購買転換率**
    * **値**: `CountDistinct([Purchase Id]) / CountDistinct([Customer Id])`
    * **タイトル**: 購買転換率
    * **書式設定**: パーセント（Percent）に変更
<img width="989" height="85" alt="image" src="https://github.com/user-attachments/assets/91d9c9c2-81ec-4710-ac56-0b0bad8c3f6d" />

#### **Step4: ページ全体へのフィルター設定**
最後に、このページ全体を「**2025年上半期**」のデータだけに絞り込みます。

1.  画面上部にある「**ページコントロール**」エリアに、**TBL\_CAMPAIGNS**の **[Start Date]** をドラッグ＆ドロップします。
2.  表示されたフィルターコントロールで、期間を「**2025年1月1日**」から「**2025年6月30日**」までに設定します。

# 追加ハンズオン：Lookup関数を用いた目標達成率の可視化
---
## **Step1: 実績値のピボットテーブルを作成**
1.  Sigmaの画面で、キャンペーンタイプごとの実績をまとめた表を作成します。Sigmaのワークブックに、新しい「**ピボットテーブル**」要素を追加します。
2.  以下の設定で、実績値を集計します。
    * **行 (Rows)**: `[Campaign Type]`
    * **値 (Values)**: `CountDistinct([Purchase Id]) / CountDistinct([Customer Id])`
3.  「値」に設定した計算列の名前を **[実績CVR]** に変更し、書式を「**パーセント**」にします。
---
## **Step2: 目標管理CSVファイルの準備**
画面下の「**Input**」から「**CSV**」を選択します。そして、「**TBL\_CAMPAIGN\_GOALS.CSV**」のデータを挿入してください。
<img width="636" height="327" alt="image" src="https://github.com/user-attachments/assets/a6688376-8cf9-4a58-a5d6-adfdf02b50e1" />
---
## **Step3: CSVファイルをアップロードし、Lookup()で参照**
作成した「実績」の表に、手元のCSVファイルから「目標」の数値を`Lookup()`関数で持ってきます。

Step2で作成したピボットテーブルに、新しい計算列を追加します。以下の設定で、目標値を参照します。

* **列名**: `[目標CVR]`
* **計算式**:
    ```
    Lookup([GOAL_CONVERSION_RATE], [TBL_CAMPAIGN_GOALS.csv], [Campaign Type])
    ```
* **書式設定**: 「**パーセント**」に設定します。
---
## **Step4: 達成率の計算と可視化**
最後に、実績と目標を比較して「達成率」を計算し、評価を視覚的に分かりやすくします。

ピボットテーブルに、さらに新しい計算列を追加します。

* **列名**: `[達成率]`
1.* **計算式**: `[実績CVR] / [目標CVR]`
* **書式設定**: 「**パーセント**」に設定します。

2．**[達成率]** 列に条件付き書式を適用し、「**100%以上なら緑**」「**100%未満なら赤**」のように、セルの背景色を設定します。
<img width="886" height="449" alt="image" src="https://github.com/user-attachments/assets/5dfd7617-4991-49ef-b943-a5fcc9d71b92" />

# 主要グラフの作成

## **グラフ①：時系列推移グラフ**

### **目的**
キャンペーン期間中の応募者数の推移を、一本の折れ線グラフで可視化します。これにより、「**2025年上半期に、私たちの施策が、いつ、どれくらいの勢いで顧客を惹きつけたのか**」を、一目で分かるようにします。

---

### **手順**

#### **Step1: 新しい可視化要素の追加**
ページに新しい**「可視化」要素を追加し、グラフの種類として「折れ線グラフ（Line Chart）」**を選択します。

#### **Step2: X軸（時間軸）の設定**
* 「**X軸**」エリアに、**TBL\_ANSWERS**テーブルの **[Answered At]** 列をドラッグ＆ドロップします。
* X軸に挿入したカラムの右側に位置するボタンをクリックし、**Truncate Date**を選択して「**Week**」をクリックします。
<img width="267" height="567" alt="image" src="https://github.com/user-attachments/assets/988648fd-a064-4bb2-a95b-f4cff1222774" />

#### **Step3: Y軸の設定**
* 「**Y軸**」エリアに、**TBL\_CUSTOMERS**の **[Customer Id]** をドラッグ＆ドロップし、集計方法を **CountDistinct**（ユニーク数を数える）に設定します。
* 系列の名前を「**応募者数**」に変更します。
<img width="198" height="473" alt="image" src="https://github.com/user-attachments/assets/fe0b0510-ba0a-47b0-bb04-bacb6d031903" />

#### **Step4: 画面には以下のグラフが表示されます。**
<img width="989" height="370" alt="image" src="https://github.com/user-attachments/assets/7b8b9d62-5252-49b0-8241-dfa1b4ba19e2" />
---

## **グラフ②：キャンペーンタイプ別の成果比較**

### **目的**
上半期に実施した複数のキャンペーンを、「**タイアップ・コラボ型**」や「**新商品ローンチ型**」といった種類ごとに、成果（応募者数、購入者数など）を横並びで比較し、どれが「**当たり**」だったのかを明確にします。

---

### **手順**

#### **Step1: 新しい可視化要素の追加**
ページに新しい「**可視化**」要素を追加し、グラフの種類として「**棒グラフ（Bar Chart）**」を選択します。

#### **Step2: X軸（比較の切り口）の設定**
「**X軸**」エリアに、**TBL\_CAMPAIGNS**テーブルの **[Campaign Type]** 列をドラッグ＆ドロップします。

#### **Step3: Y軸（評価指標）の設定**
「**Y軸**」エリアに、**TBL\_ANSWERS**テーブルの **[Customer Id]** 列をドラッグ＆ドロップし、集計方法を **CountDistinct** に設定します。
<img width="623" height="541" alt="image" src="https://github.com/user-attachments/assets/0ca6b1f3-1fee-4076-a566-5c05ba2eaeb8" />

---

### ✅ **このステップのゴール**
横軸がキャンペーンタイプ、縦軸が応募者数となった、比較グラフが完成します。 このグラフを見れば、「**新商品ローンチ型**」の施策がいかに多くの顧客を惹きつけたかが一目瞭然となり、成功要因を特定を深堀するというインサイトが得られます。

## **追加ハンズオン：データの深堀をして更なるインサイトを発見する**

### **Step1: 会員ランク別での分析**
作成した棒グラフに、新しい分析の切り口として「会員ランク」を追加し、キャンペーンタイプごとの成果にランクによるばらつきがあるかを確認します。
<img width="162" height="334" alt="image" src="https://github.com/user-attachments/assets/eeeff4ba-c363-4b66-a9c1-b5759120d41c" />
<img width="471" height="332" alt="image" src="https://github.com/user-attachments/assets/d2f4f24f-e50a-43bb-9855-4227330f9f61" />

* 既存の棒グラフの「**色（Color）**」設定エリアに、**TBL\_CUSTOMERS**テーブルの **[Rank]** 列をドラッグ＆ドロップします。これにより、各キャンペーンタイプの棒グラフが、会員ランクごとの内訳で色分けされます。

### **Step2: フィルターを活用した属性別分析**
フィルター機能を用いて、特定の顧客セグメント（性別、地域、年齢層）に絞り込み、それぞれで成果にどのような違いが現れるかを分析します。

1.  グラフ右上（またはページ上部）にある**フィルター**のアイコンをクリックします。
2.  表示された項目から **[Age group]**、**[Gender]**、**[Prefecture]** を選択してフィルターコントロールを追加します。
3.  それぞれのフィルターを操作し（例：性別で「女性」を選択、地域で「東京都」を選択など）、グラフがどのように変化するかを確認して、属性ごとの傾向を分析してみましょう。

# Phase3：ダッシュボードへの集約と公開

## **目的**
作成した各要素を戦略的に配置し、インタラクティブなフィルターや説明文を追加することで、単なるグラフの集合体ではなく、一つの完結した分析レポートとしてダッシュボードを完成させます。

---

## **手順：レイアウト調整**
**Step1:**まず、ページの編集画面で、これまで作成した要素を、私たちが設計した「**結論 → 過程 → 内訳**」という分析ストーリーに沿って配置します。

* **最上段（結論）：**
    * 主要KPIサマリーを配置します。

* **中段（過程と比較）：**
    * 左側に時系列推移グラフ、右側にキャンペーンタイプ別成果比較グラフを並べて配置します。

* **下段（詳細）：**
    * 顧客ランク別積み上げ棒グラフや、今後のアドホック分析で作成する詳細なテーブルなどを配置します。
<img width="989" height="501" alt="image" src="https://github.com/user-attachments/assets/fc0da01b-a94f-41a8-a2b8-5c2dc57f50f1" />
---
**Step2:**詳細デザインと注釈の追加**
最後に、見る人が迷わないよう、タイトルや説明文を追加して仕上げます。

**Step3:****Text（テキスト）**要素を使い、ダッシュボードの最上部に「**2025年上半期 キャンペーン成果報告サマリー**」といった、明確なタイトルを追加します。

* 各グラフの上にも、「**応募者数と購入者数の推移**」といった、グラフが何を表しているかの小タイトルを追加します。

※特に重要なインサイト（例：「新商品ローンチ型施策がROIを牽引」）は、結論としてテキストで書き出しておくと、メッセージがより強力に伝わります。

---
## **手順4：公開（Publish）**
全ての調整が完了したら、画面右上の青い「**公開（Publish）**」ボタンをクリックします。 これで、あなたの行った変更が保存され、ダッシュボードが他のチームメンバーと共有できる状態になります。
<img width="989" height="177" alt="image" src="https://github.com/user-attachments/assets/c983c551-412d-41af-95a8-1a58891063af" />

---
## ✅ **このフェーズのゴール**
これまで、個々で作成してきた主要なKPIとグラフが一つのダッシュボードに集約されました。これにより、ダッシュボードの閲覧者がインタラクティブにインサイトを見つけられる土壌が完成しました。
---

## **コラム：前回のキャンペーン分析報告会での苦労エピソード②**
前回のキャンペーン分析報告会直前、担当者は最終版のエクセルデータを前日の夕方に関係者に共有していたが、その後データの集計ミスが発覚し、再度修正版を翌日に送ることになり、受け取り手は最新版がどのファイルかわからなくなるということが発生しました。一方で、Sigmaであれば、Publishされたダッシュボードは、修正箇所は瞬時にアップデートされるようになります。

# Phase4：追加要求対処手順

## **分析要求1：コラボ施策における"真の"優良顧客セグメントの発見**

### **目的**
「**コラボ施策は、単に既存ファンが喜んだだけか、それとも、未来の優良顧客となる新規層を獲得できたのか？**」という問いに、データで明確な答えを出します。

---

### **手順**

**Step1**：.  新しいページを作成し、「**コラボ施策 深掘り分析**」と名前を付けます。
**Step2**:.  ピボットテーブルを作成します。
**Step3**:.  このピボットテーブルに、以下の2つのフィルターを設定します。
    * **[Question ID]** が **Q1**
    * **[Answer Text]** が **コラボキャラクターが好きだから**<img width="685" height="519" alt="image" src="https://github.com/user-attachments/assets/2d30f5bd-9451-40ab-8022-ff9e792c9658" />
**Step4**:.  ピボットテーブルを以下のように構成します。
    * **行 (Rows)**: `[Customer Rank]`
    * **値 (Values)**:
        * **応募者数**: `CountDistinct([Customer Id])`
        * **購買転換率**: `CountDistinct([Purchase Id]) / CountDistinct([Customer Id])`
        * **平均購入単価**: `Avg([Purchase Amount])`

---

### **得られるインサイト**
このテーブルを見れば、応募者数では既存の優良顧客（**プラチナ、ゴールド**）が多くても、購買転換率では、普段は購入に至らない「**レギュラー**」や「**ブロンズ**」といった層が、他のセグメントを圧倒しているという事実を発見できます。これは、**本施策が新規顧客獲得に絶大な効果を発揮したことを示す、強力な証拠となります**。

## **分析要求2：低迷セグメントの原因特定**

### **目的**
「**なぜ、50代以上の顧客は買ってくれないのか？**」という問いに対し、彼らが本当に求めている価値と、我々の訴求メッセージの「**ズレ**」をデータで証明します。

---

### **手順**
1.  新しいページを作成し、「**年代別 価値観分析**」と名前を付けます。
2.  積み上げ棒グラフを作成します。
3.  グラフを以下のように構成します。
    * **X軸**: `[Answer Text]`（Q2の回答）
    * **Y軸**: `CountDistinct([Customer Id])`
    * **色 / 積み上げ**: `[Age Group]`
4.  グラフのフィルターを2つ設定します。
    * **[Question ID]** が **Q2**
    * **[Age Group]** が **30代** と **50代以上** の2つに絞り込む
5.  グラフの設定で、積み上げの表示形式を**「100%」**に切り替えます。
<img width="664" height="581" alt="image" src="https://github.com/user-attachments/assets/5f355528-812c-43ce-9e9a-7a4efb75232b" />

---

### **得られるインサイト**
年代ごとの回答比率の違いが明確になります。「**30代**」は「**新しさ・話題性**」を重視する一方、「**50代以上**」は「**味の信頼性**」を圧倒的に重視している、といった価値観のギャップが可視化され、キャンペーンのメッセージが、ターゲット層に響いていなかったという仮説を裏付けられます。

***

## **分析要求3：流入チャネルと顧客単価の相関分析**

### **目的**
応募者の「**数**」だけでなく、顧客一人あたりの「**質（購入単価）**」を同時に評価し、最も**費用対効果の高い広告チャネル**を特定します。

---

### **手順**
1.  新しいページを作成し、「**チャネル別 費用対効果分析**」と名前を付けます。
2.  バブルチャートを作成します。（グラフの種類で「**散布図**」を選択）
3.  グラフを以下のように構成します。
    * **X軸**: `CountDistinct([Customer Id])` （応募者数 = 量）
    * **Y軸**: `Avg([Purchase Amount])` （平均購入単価 = 質）
    * **点の色 (Color)**: `[Answer Text]`（Q3の回答 = チャネル名）
    * **点の大きさ (Size)**: `Sum([Purchase Amount])` （総売上 = ビジネスインパクト）
4.  グラフのフィルターで、**[Question ID]** が **Q3** のデータだけに絞り込みます。
<img width="989" height="415" alt="image" src="https://github.com/user-attachments/assets/5417eccb-7650-4116-8811-8bf3c4185da3" />

---

### **得られるインサイト**
「**Instagram**」は応募者数（**X軸**）は多いが、平均購入単価（**Y軸**）は低い（**右下のバブル**）、「**Web検索**」は応募者数は少ないが、単価は高い（**左上のバブル**）といった、チャネルごとの特性がマトリクスで識別可能となり、広告予算の最適な再配分を検討するための、判断材料となります。

## **分析要求4：AIによる「改善提案」の自動抽出と優先順位付け**

### **目的**
アンケートの自由回答という「**宝の山**」から、AIを使って本当に対応すべき「**改善提案**」だけを自動で抽出し、さらに顧客ランクと掛け合わせることで対応の**優先順位**を明確にします。

---

### **手順**

1.  **分析用ページの作成**
    * 新しいページを作成し、「**顧客の声（AI分析）**」と名前を付けます。
<img width="845" height="646" alt="image" src="https://github.com/user-attachments/assets/f2c9019c-ca3c-4264-a6ff-2fda5795f1f8" />

2.  **分析対象データの準備**
    * テーブル要素を追加し、フィルター機能でアンケートの設問 `[Question ID]` が **「Q6」（自由回答）** の行だけに絞り込みます。

3.  **AIによる自由回答の自動分類**
    * テーブルに、以下のAI関数を使った計算列を追加します。これが改善提案を自動抽出する心臓部となります。
<img width="1019" height="696" alt="image" src="https://github.com/user-attachments/assets/8acca630-af0c-4ea9-9bce-5fa6471f4bab" />

* **[感情]列: AI関数**
        * 以下の関数を計算列として入力し、自然言語のテキストから感情スコア（-1から1）を自動で算出します。
        ```sql
        CallNumber("SNOWFLAKE.CORTEX.SENTIMENT", [Answer Text])
        ```
        * 算出されたセンチメントスコアを基に、以下の`If`文などで「Positive」「Negative」「Neutral」の3つに分類します。
        ```sql
        If([センチメント数] > 0.02, "Positive", If([センチメント数] < -0.02, "Negative", "Neutral"))
        ```

    * **[コメント種別]列: AI関数**
        * 以下の関数を計算列として入力します。AIがコメント内容を読み解き、「改善提案」「感想」「その他」のいずれかに自動でタグ付けします。
        ```sql
        CallVariant("SNOWFLAKE.CORTEX.COMPLETE", "llama3-8b", "以下のテキストを、「改善提案」「感想」「その他」の3つのカテゴリの中から最も適切なものを1つだけ選んで分類してください。カテゴリ名だけを返してください。テキスト： " & [Answer Text])
        ```


4.  **改善提案の割合を可視化**
    * AI分析後のテーブルを基にドーナツグラフを作成し、`[コメント種別]` の全体に占める構成比を可視化します。（改善提案が全体の何割あるかを確認します）
<img width="989" height="297" alt="image" src="https://github.com/user-attachments/assets/339521c0-9772-4529-a612-04b6f89c386c" />

5.  **「優先すべき改善提案」をハイライト**
    * 元のテーブルに戻り、条件付き書式を設定します。以下の2つの条件を両方満たす行が、赤色などで強調表示されるようにします。
        * **条件1**: `[コメント種別]` が **改善提案**
        * **条件2**: `[顧客ランク]` が **プラチナ**
---
### **得られるインサイト**
この分析によって、最もロイヤルティの高い「**プラチナ顧客**」から寄せられた、具体的な「**改善提案**」の一覧を瞬時に特定できます。
こちらを「**顧客離反を防ぎ、満足度をさらに向上させるために、最優先で取り組むべきアクションリスト**」として、そのまま次の改善活動に活用できます。

# 5.他のアカウントタイプでのユースケース事例

これまでのハンズオンは、主にデータを準備し、ダッシュボードを構築する**Build**ライセンスを持つ、分析担当者の視点で進められてきました。

本章では、この一つのダッシュボードを基点として、「Viewer」、「Act」、「Analyze」の異なるライセンスと役割を持つ人々が、それぞれの立場で、どのようにデータを活用し、ビジネス価値を創造していくのか、その具体的なユースケースを解説します。
---

Viewer（閲覧者）：意思決定を行う「経営層・他部署の部長」
役割：
分析を主な業務としない、ビジネス上の意思決定者や関係者。報告会の結果を迅速に把握し、全社的な視点から、次の大きな方針を決定することが目的。

得られるメリット：
報告を聞きながら、自らの手で、瞬時に「裏付け」と「新たな発見」を得られる。
分析担当者の報告を鵜呑みにするだけでなく、リアルタイムにデータを深掘りすることで、より確信を持って、次の意思決定を下せる。

Sigmaの機能と、会議での具体的なアクション：

あなたが提示したダッシュ-ボードで、「『新商品ローンチ型』施策が好調」であることを確認した経営層が、その場で新たな疑問を口にします。「素晴らしい成果だ。では、その好調な新商品施策は、どの顧客ランクに、どれくらい売れたのか、その構成比を見せてくれ」

経営層のメンバーは、あなたに依頼するのではなく、自らダッシュボード上部の**Ask Sigmaに「新商品ローンチの売上を、顧客ランク別に円グラフで」**と日本語で入力します。

すると、SigmaのAIが瞬時に、その問いに答える円グラフを自動生成し、その成功が主に「プラチナ」「ゴールド」といった優良顧客によるものであることを、経営層自身の目で直接、確認します。

Act（コラボレーション担当者）：議論をアクションに繋げる「キャンペーン運用担当者」
役割：
ビジネスの現場担当者。会議で決定した事項を、次の具体的な「アクション」として、データに直接記録・更新することが主な役割。

得られるメリット：
分析と実行を、シームレスに繋ぐ。
会議で明らかになったインサイトを、その場で即座に、具体的なアクションのステータス更新や、担当者への指示として、データに直接記録できる。

Sigmaの機能と、会議での具体的なアクション：

会議で、「『タイアップ・コラボ型』は、転換率に課題があるため、下半期は戦略を見直す」という方針が決定されました。

Actアカウントを持つ運用担当者は、ダッシュボード上の**Input Table（入力テーブル）を開き、該当する施策のステータスを「実施中」から「要改善計画策定」に、その場で更新**します。

さらに、課題が明確になったグラフ上で、Annotate comments（コメント注釈）機能を使い、「@（ブランドマネージャー名）さん、この層への転換率改善策について、明日までに具体的な計画を提出してください」と、データに直接、指示を書き込みます。

Analyze（深掘り分析を行う関係者）：自らの問いを探求する「ブランドマネージャー」
役割：
ビジネスの現場担当者。公式レポートを基に、自身の担当領域に特化した、より深いアドホック分析を、自らの手で行い、独自のインサイトを発見することが目的。

得られるメリット：
全体の議論を、自分事化し、担当領域における独自の「打ち手」を発見できる。
構築担当者に依存せず、自らのビジネス課題を、自らの手で、データを使って解決できる。

Sigmaの機能と、会議での具体的なアクション：

会議で、「『タイアップ・コラボ型』は、転換率が低い」という報告を聞いた、**「人気アニメ「グルログ」コラボ」**のブランドマネージャーがいました。

彼は、あなたが共有した公式ダッシュボードを**「コピーして（Save As）」**、自分専用の分析環境を瞬時に作成します。

そして、Excelのピボットテーブルと同じ感覚で、[Campaign Name]で自分の担当商品に絞り込み、行にQ2の回答（重視点）、値に購買転換率を設定した、全く新しいクロス集計表を作成。その結果、「私の担当した『グルログ』コラボは、『キャラクター』への興味だけでなく、『味』への興味から購入した層の転換率が、他のコラボ施策より2倍も高い」という、自らの担当領域における、独自の勝ち筋を発見します。


# 6. まとめ

## **6-1 本資料の目的の再確認**
本資料は、Sigmaの基本的な操作スキルを習得し、それを実際の業務課題（キャンペーン分析）にどう応用して価値を生み出すか、具体的なユースケースを通じて体感的に理解していただくことを目的としました。

## **6-2 ダッシュボードで可視化できた内容の要点**

### **シーン①：振り返り会議用ダッシュボードの事前作成**
本ハンズオンで作成したダッシュボードでは、以下の多角的な視点での可視化を実現しました。

* **全体像の把握**: 主要KPIや時系列推移による、キャンペーン成果の俯瞰。
* **顧客セグメント分析**: 参加者のデモグラフィックや顧客ランク別の行動特性の把握。
* **意識と行動の相関分析**: アンケート回答と購買行動を紐づけた、顧客インサイトの深掘り。
* **定性データの活用**: AIを用いた自由回答の分析による、顧客の生の声の定量化。

### **シーン②：振り返り会議内での分析要求**

* **優良セグメントの深掘りによる、貢献顧客層の特定**：施策に好意的な顧客層をさらに顧客ランク別に分解し、キャンペーンが特に「**新規・ライト層**」の獲得に効果的であったことを突き止めました。
* **低迷セグメントの原因特定と、改善指針の導出**：成果の低かった顧客層のアンケート回答を分析し、**訴求メッセージとターゲットニーズの不一致**を発見。具体的なクリエイティブ改善の指針を得ました。
* **流入チャネル別の量と質（顧客単価）の比較による、広告費用の最適化**：応募者数（量）と平均購入単価（質）をチャネル別に比較し、**より収益性の高いチャネルを特定**。広告予算の再配分を検討するための判断材料を得ました。
* **AIを活用した定性データ分析による、潜在リスクの発見**：アンケートの自由回答をAIで分類・分析し、KPIの好調さの裏に隠れた、**特定の優良顧客層が抱えるサービスへの不満（将来の離反リスク）**を特定しました。

## **6-3 Sigmaを用いたことによって得られた業務上のメリット**
Simgaのハンズオンをして、不要工数の削減と分析業務の効率化・民主化という業務上のメリットが生まれました。

キャンペーン情報・アンケート回答・会員属性・購買履歴といった複数のデータソースを素早く統合できる環境が実現できました。これにより、データの結合や正規化・クレンジング等の事前作業に使っていた工数の削減とヒューマンエラーの減少がされました。

設問項目が異なっても、BIツールを改修することなく、分析を実施できることマーケティング担当者自らがターゲットセグメントの抽出や購買特性を迅速に行える状態になりました。分析のリードタイムが劇的に短縮され、担当者が仮説を思いついたその場で検証できるため、施策のPDCAサイクルが高速化しました。また、リアルタイムでのアドホック分析にも対応できることによって、参加者全員が対話しながら即時新しい分析を行うという環境が作られました。

## **6-4 ハンズオン完了によって到達したスキルや操作範囲**
ハンズオン完了によって、参加者のスキルセットは以下のように進化・拡張されました。

* **クラウドデータ基盤の構築スキル**:
    ローカルのExcelファイル操作から、クラウド上の複数のデータソース（DWH、CSV）をGUIで結合し、分析の土台となる信頼性の高いデータモデルを構築するスキルを習得しました。

* **インタラクティブなダッシュボードの設計・構築スキル**:
    ビジネス目的に沿って、主要KPIやグラフを効果的に配置し、関係者との対話の起点となる、操作可能なダッシュボードを設計・構築するスキルを習得しました。

* **対話的なデータ探索・分析スキル**:
    完成したダッシュボードを基に、フィルターやドリルダウン、ピボットテーブルの再構成といった操作をリアルタイムで行い、新たな問い（仮説）をその場で検証・深掘りしていくスキルを習得しました。

本ハンズオンで得られたこれらのスキルと成果は、今回のキャンペーン分析に留まらず、様々な業務へと応用が可能です。次章では、その具体的な活用の方向性について、一例を提示します。

# 7. 展開例


## **7-1 本キャンペーン分析データを用いた展開事例**

### **展開例1：キャンペーン期間中の「予実管理・ROIモニタリング」ダッシュボード**
これは、キャンペーンが終了するのを待つのではなく、期間の途中でも投資対効果をリアルタイムに把握し、軌道修正を行うための、より実践的な管理ダッシュボードです。

| 項目 | 内容 |
| :--- | :--- |
| **目的** | キャンペーン期間中の予算消化ペースと、それによって得られた売上（リターン）をリアルタイムに可視化し、費用対効果（ROI）の健全性を監視する。 |
| **実現できること** | ・**リアルタイムな予実管理**：「本日時点で、予算を何%消化し、売上目標に対して何%達成しているか」を正確に把握できます。<br>・**着地見込みの予測**：現在のペースで進んだ場合の、キャンペーン終了時点での売上とROIの着地見込みをシミュレーション表示します。<br>・**機動的な投資判断**：もしROIが想定より低い場合、キャンペーン期間中であっても、「非効率な広告を停止する」「効果の高いチャネルに追加投資する」といった、機動的な予算の再配分をデータに基づいて判断できます。 |

#### **手軽なWhat if 分析による精度の高い着地見込み予測**
1.  **Inputコントロール（パラメータ）**
    これが「What-if（もし〜だったら）」を実現する、ユーザーが操作する”ツマミ”の役割を果たします。
    * **何ができるか**: 「広告費の追加予算」「目標達成率の変更」といった変数を、スライダーや入力ボックスとしてダッシュボード上に設置できます。
    * **役割**: 分析を見る人が手元で自由に条件を変えて、結果の変化をシミュレーションできるようにします。

---

### **展開例2：日々の健全性を測る「KPI定点観測」ダッシュボード**
これは、キャンペーンの「結果」を振り返るのではなく、日々の「状況」を把握し、問題の兆候をいち早く発見するための運用監視（モニタリング）ダッシュボードです。

| 項目 | 内容 |
| :--- | :--- |
| **目的** | 日次の応募数や転換率といった、キャンペーンの健全性を示す先行指標を定点観測し、異常を早期に検知する。 |
| **実現できること** | ・**日次パフォーマンスの可視化**：「昨日の応募者数は何人だったか」「今日の午前中時点での転換率は何%か」といった、現場が知りたい最新の数値を常に確認できます。<br>・**早期異常検知**：「昨日まで順調だった特定チャネルからの応募が、今日になって急にゼロになった」といった異常を即座に発見し、広告設定のミスやリンク切れといった原因の調査に迅速に着手できます。<br>・**週次比較による傾向把握**：「今週の応募ペースは、先週の同曜日と比較してどうか」をグラフで比較し、キャンペーンの勢いが維持されているか、あるいは失速しているかを客観的に評価できます。 |

#### **リスク管理**
→ **条件付き書式 (Conditional Formatting)による早期検知**
このフェーズの目的は、膨大なデータの中から「いつもと違う」という異常な数値を自動的に浮かび上がらせることです。
* **何ができるか**: 「応募数が前日比で30%以上減少した」「特定チャネルからの応募がゼロになった」といった、あらかじめ設定した危険なルールに合致する数値を自動で赤くハイライトします。これにより、担当者はダッシュボードを見るだけで、どこに問題が発生しているかを瞬時に認識できます。

→ **原因の迅速な追及**
このフェーズでは、ハイライトされた問題点について、「なぜ？」を繰り返して根本原因を特定します。
* **使う機能**: `Pivot集計` ＋ `ドリルダウン (Drill Down)`
* **何ができるか**: `Pivot集計`で「チャ
>
## **7-2 本ユースケースの横展開案**

### **1. 営業部門：データに基づくセールス戦略の立案**

| 項目 | 内容 |
| :--- | :--- |
| **活用方法** | 営業マネージャーが、特定の顧客セグメント（例：特定の業界、ライトユーザー層）の自由回答を横断的に分析する。 |
| **得られるインサイト** | ・このセグメントは、当社の「**サポート体制**」を強みとして認識している。<br>・一方で、「**他社製品との連携機能**」に改善を望む声が多い、といった傾向を把握。 |
| **ビジネス価値** | チーム全体で共有できる、セグメント別の「**攻略法（セールス・プレイブック）**」を作成可能に。強みであるサポート体制をアピールしつつ、改善要望への対処法を準備しておくことで、営業組織全体の提案力を底上げし、商談の成約率向上に繋がります。 |

#### **誰でもデータに基づいた営業戦略を立案**
このフェーズでは、専門的な操作を一切行わず、普段の言葉でAIに質問するだけで、戦略立案に必要なデータやインサイトを引き出します。

* **使う機能**: `Ask Sigma` (自然言語での対話型分析)
* **何ができるか**: 営業マネージャーや担当者が、分析画面のチャット欄に**「製造業の顧客は、うちの製品のどこに不満を持っている？」**のように、知りたいことを日本語で直接入力します。すると、AIがその質問の意図を理解し、該当するアンケートの自由回答や関連データを集計したグラフや表を自動で生成します。さらに**「その中で、価格に関するコメントだけ見せて」「ポジティブな意見はどんなものがある？」**と対話を続けることで、思考を止めずに次々とデータを深掘りできます。このプロセスを通じて、誰もが「製造業の顧客には、価格よりもサポート体制の充実さをアピールする方が響きそうだ」といった、具体的な戦略仮説を発見し、データに基づいた営業活動へと繋げることができます。

---

### **2. 商品企画部門：顧客の声起点の、商品開発・改善**

| 項目 | 内容 |
| :--- | :--- |
| **活用方法** | 商品企画担当者が、特定の商品に関する自由回答を抽出し、AI機能で「要望」「不満点」といったトピックに分類する。 |
| **得られるインサイト** | ・「**モバイルアプリ版が欲しい**」という新機能への要望が、特に若年層から多数寄せられている。<br>・既存製品の「**初期設定プロセスの複雑さ**」に関する不満が多いことを発見。 |
| **ビジネス価値** | 顧客の具体的なニーズという客観的データに基づいて、新機能の開発や既存機能の改善の優先順位を決定できます。これにより、開発リソースを最も効果的な領域に投下し、製品の市場競争力を高めることができます。 |

#### **商品企画：顧客の声起点の、商品開発・改善**
このフェーズでは、AIの力を借りて、大量の顧客の声を**「客観的な開発要件」**へと変換し、データに基づいた製品戦略を立案します。

* **使う機能**: `各種AI関数` (自動カテゴリ分け、改善要望の抽出、感情分析など) ＋ `フィルタ`
* **何ができるか**: 商品企画担当者が、特定商品に関する数千件の自由回答データに対し、AI関数を適用して複数の分析列を一度に作成します。例えば、**[トピック]列**（自動カテゴリ分け）、**[改善提案]列**（改善要望の抽出）、**[感情スコア]列**（感情分析）といった列が自動で生成されます。これにより、これまで担当者が感覚で読んでいた顧客の声が、構造化されたデータに変わります。担当者は、そのデータをフィルタ機能で「若年層」に絞り込み、**[改善提案]列**を見るだけで、「**若年層からはモバイルアプリの要望が特に多い**」といった具体的なインサイトを発見できます。この客観的データに基づき、開発の優先順位を明確に決定し、限られたリソースを最も効果的な新機能開発や機能改善に投下することが可能になります。
